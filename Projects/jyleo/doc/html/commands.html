<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.3.10: http://docutils.sourceforge.net/" />
<title></title>
<style type="text/css">

/*ORIGINAL GOODGER + changes; up to line 224 it's standard reST stylesheet
:Author: David Goodger
:Contact: goodger@users.sourceforge.net
:date: $Date: 2004/07/09 14:03:05 $
:version: $Revision: 1.1 $
:copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.
*/

.first {
  margin-top: 0 }

.last {
  margin-bottom: 0 }

a.toc-backref {
  text-decoration: none ;
  color: black }

dd {
  margin-bottom: 0.5em }

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.attention, div.caution, div.danger, div.error, div.hint,
div.important, div.note, div.tip, div.warning, div.admonition {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

div.hint p.admonition-title, div.important p.admonition-title,
div.note p.admonition-title, div.tip p.admonition-title,
div.admonition p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em }

div.footer, div.header {
  font-size: smaller }

div.sidebar {
  margin-left: 1em ;
  border: medium outset ;
  padding: 0em 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font-family: serif ;
  font-size: 100% }

pre.line-block {
  font-family: serif ;
  font-size: 100% }

pre.literal-block, pre.doctest-block {
  margin-left: 2em ;
  margin-right: 2em ;}
  /*background-color: #eeeeee }*/
  /*for some reason i can't overide in an import*/

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.option-argument {
  font-style: italic }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

table {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.citation {
  border-left: solid thin gray ;
  padding-left: 0.5ex }

table.docinfo {
  margin: 2em 4em }

table.footnote {
  border-left: solid thin black ;
  padding-left: 0.5ex }

td, th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

th.docinfo-name, th.field-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap }

h1 tt, h2 tt, h3 tt, h4 tt, h5 tt, h6 tt {
  font-size: 100% }

/*for some reason, the following isn't being overridden by the imports
at the end of this style sheet so I've commented it out*/
/*tt {
  background-color: #eeeeee }*/

ul.auto-toc {
  list-style-type: none }
  
hr { /* EKR */
  width: 100%;
  height: 1pt;
  color: gray;
}
  
@import url(leo_rst.css);
@import url(silver_city.css);


</style>
</head>
<body>
<div class="document">
<!-- rst3: filename: html\commands.html -->
<p><a class="reference" href="directives.html"><img alt="back" src="arrow_lt.gif" /></a> <a class="reference" href="front.html"><img alt="leo" src="leo.gif" /></a> <a class="reference" href="design.html"><img alt="next" src="arrow_rt.gif" /></a></p>
<div class="section" id="chapter-5-using-leo-s-commands">
<h1><a class="toc-backref" href="#id1" name="chapter-5-using-leo-s-commands">Chapter 5: Using Leo's Commands</a></h1>
<p>This chapter is discusses all of Leo's menu commands.</p>
<div class="contents topic" id="contents">
<p class="topic-title first"><a name="contents">Contents</a></p>
<ul class="simple">
<li><a class="reference" href="#chapter-5-using-leo-s-commands" id="id1" name="id1">Chapter 5: Using Leo's Commands</a><ul>
<li><a class="reference" href="#the-file-menu" id="id2" name="id2">The File Menu</a><ul>
<li><a class="reference" href="#loading-saving-and-reverting-files" id="id3" name="id3">Loading, Saving and Reverting Files</a></li>
<li><a class="reference" href="#communicating-with-external-editors" id="id4" name="id4">Communicating with external editors</a></li>
<li><a class="reference" href="#tangling-an-outline-producing-derived-files" id="id5" name="id5">Tangling an outline: Producing Derived Files</a></li>
<li><a class="reference" href="#untangling-updating-an-outline" id="id6" name="id6">Untangling: updating an outline</a></li>
<li><a class="reference" href="#importing-files-into-leo-outlines" id="id7" name="id7">Importing Files into Leo Outlines</a></li>
<li><a class="reference" href="#exporting-files-from-leo-outlines" id="id8" name="id8">Exporting Files from Leo Outlines</a></li>
<li><a class="reference" href="#quitting-leo" id="id9" name="id9">Quitting Leo</a></li>
</ul>
</li>
<li><a class="reference" href="#the-edit-menu" id="id10" name="id10">The Edit Menu</a><ul>
<li><a class="reference" href="#undoing-changes" id="id11" name="id11">Undoing changes</a></li>
<li><a class="reference" href="#cutting-pasting-and-selecting-text" id="id12" name="id12">Cutting, pasting and selecting text</a></li>
<li><a class="reference" href="#shifting-body-text" id="id13" name="id13">Shifting body text</a></li>
<li><a class="reference" href="#adding-and-deleting-comments-in-body-text" id="id14" name="id14">Adding and deleting comments in body text</a></li>
<li><a class="reference" href="#creating-nodes-from-body-text" id="id15" name="id15">Creating nodes from body text</a></li>
<li><a class="reference" href="#converting-leading-blanks-and-tabs-in-body-text" id="id16" name="id16">Converting leading blanks and tabs in body text</a></li>
<li><a class="reference" href="#executing-python-scripts-in-body-text" id="id17" name="id17">Executing Python scripts in body text</a></li>
<li><a class="reference" href="#finding-and-changing-text" id="id18" name="id18">Finding and changing text</a></li>
<li><a class="reference" href="#script-search" id="id19" name="id19">Script search</a></li>
<li><a class="reference" href="#go-to-line-number" id="id20" name="id20">Go To Line Number</a></li>
<li><a class="reference" href="#inserting-the-date-and-time" id="id21" name="id21">Inserting the date and time</a></li>
<li><a class="reference" href="#reformatting-paragraphs-in-body-text" id="id22" name="id22">Reformatting paragraphs in body text</a></li>
<li><a class="reference" href="#matching-brackets-and-parenthesis" id="id23" name="id23">Matching brackets and parenthesis</a></li>
<li><a class="reference" href="#specifying-settings" id="id24" name="id24">Specifying settings</a></li>
</ul>
</li>
<li><a class="reference" href="#the-outline-menu" id="id25" name="id25">The Outline Menu</a><ul>
<li><a class="reference" href="#checking-outlines" id="id26" name="id26">Checking outlines</a></li>
<li><a class="reference" href="#creating-cloning-nodes" id="id27" name="id27">Creating &amp; cloning nodes</a></li>
<li><a class="reference" href="#cutting-pasting-and-deleting-nodes" id="id28" name="id28">Cutting, pasting and deleting nodes</a></li>
<li><a class="reference" href="#expanding-and-contracting-nodes" id="id29" name="id29">Expanding and contracting nodes</a></li>
<li><a class="reference" href="#marking-nodes" id="id30" name="id30">Marking nodes</a></li>
<li><a class="reference" href="#moving-sorting-and-reorganizing-nodes" id="id31" name="id31">Moving, sorting and reorganizing nodes</a></li>
<li><a class="reference" href="#hoisting-de-hoisting-nodes" id="id32" name="id32">Hoisting &amp; De-hoisting nodes</a></li>
</ul>
</li>
<li><a class="reference" href="#the-window-menu" id="id33" name="id33">The Window Menu</a></li>
<li><a class="reference" href="#the-help-menu" id="id34" name="id34">The Help Menu</a></li>
</ul>
</li>
</ul>
</div>
<!-- External links... -->
<!-- Relative links... -->
<!-- WARNING: image targets may not have upper case letters! -->
<div class="section" id="the-file-menu">
<h2><a class="toc-backref" href="#id2" name="the-file-menu">The File Menu</a></h2>
<div class="section" id="loading-saving-and-reverting-files">
<h3><a class="toc-backref" href="#id3" name="loading-saving-and-reverting-files">Loading, Saving and Reverting Files</a></h3>
<ul class="simple">
<li>The <tt class="docutils literal"><span class="pre">New</span></tt> command creates a new Leo main window.</li>
<li>The <tt class="docutils literal"><span class="pre">Open</span></tt> command opens an existing Leo file and shows it in a main window.</li>
<li>The <tt class="docutils literal"><span class="pre">Close</span></tt> command closes the topmost Leo window,
giving you an opportunity to save your work if you haven't yet done so.</li>
<li>The <tt class="docutils literal"><span class="pre">Save</span></tt>, <tt class="docutils literal"><span class="pre">Save</span> <span class="pre">As</span></tt> and <tt class="docutils literal"><span class="pre">Save</span> <span class="pre">To</span></tt> commands save the Leo window to a file.
The <tt class="docutils literal"><span class="pre">Save</span> <span class="pre">As</span></tt> command changes the name of the outline being edited;
the <tt class="docutils literal"><span class="pre">Save</span> <span class="pre">To</span></tt> command does not.</li>
<li>The <tt class="docutils literal"><span class="pre">Revert</span></tt> command reloads a file, discarding any changes made to the file since it was last saved.</li>
<li>The <tt class="docutils literal"><span class="pre">Recent</span> <span class="pre">Files</span></tt> command brings up a submenu containing a list of recently
opened files. Choosing an item in this submenu opens the selected file or brings
it to the front.</li>
<li>The <tt class="docutils literal"><span class="pre">Clear</span> <span class="pre">Recent</span> <span class="pre">Files</span></tt> command deletes all entries in the Recent
Files submenu except the most recent file. The files themselves are not
affected, just the menu entries.</li>
</ul>
<p>The following commands are located in the <tt class="docutils literal"><span class="pre">Read/Write</span></tt> menu, part of the
<tt class="docutils literal"><span class="pre">File</span></tt> menu.</p>
<ul class="simple">
<li>The <tt class="docutils literal"><span class="pre">Read</span> <span class="pre">Outline</span> <span class="pre">Only</span></tt> command reads an outline using only the .leo file, not any files derived
from <tt class="docutils literal"><span class="pre">&#64;file</span></tt> nodes. This command is useful for reverting a project to a
previously saved state.</li>
<li>The <tt class="docutils literal"><span class="pre">Read</span> <span class="pre">&#64;file</span> <span class="pre">Nodes</span></tt> command updates all <tt class="docutils literal"><span class="pre">&#64;file</span></tt> nodes in an outline.
This ensures that the state of an outline matches all files derived
from <tt class="docutils literal"><span class="pre">&#64;file</span></tt> nodes.</li>
<li>The <tt class="docutils literal"><span class="pre">Write</span> <span class="pre">Outline</span> <span class="pre">Only</span></tt> command saves an outline without writing any <tt class="docutils literal"><span class="pre">&#64;file</span></tt>
trees. Useful for inserting an &#64;file node into an outline without modifying a
derived file with the same name.</li>
<li>The <tt class="docutils literal"><span class="pre">Write</span> <span class="pre">&#64;file</span> <span class="pre">Nodes</span></tt> command forces an update of all &#64;file trees.</li>
<li>The <tt class="docutils literal"><span class="pre">Write</span> <span class="pre">Dirty</span> <span class="pre">&#64;file</span> <span class="pre">Nodes</span></tt> command writes all <tt class="docutils literal"><span class="pre">&#64;file</span></tt> trees that have been changed.</li>
</ul>
</div>
<div class="section" id="communicating-with-external-editors">
<h3><a class="toc-backref" href="#id4" name="communicating-with-external-editors">Communicating with external editors</a></h3>
<p>The <tt class="docutils literal"><span class="pre">Open</span> <span class="pre">With</span></tt> command allows you to communicate with external editor. When
you select this command Leo creates a temporary file and invokes an external
program. Leo periodically checks whether this temporary file has changed; Leo
changes the corresponding node in the outline if so. You must create the entries
in the Open With submenu. This would typically be done in a hook routine, using
the createOpenWithMenuFromTable routine described in the child of this node. The
<tt class="docutils literal"><span class="pre">&#64;file</span> <span class="pre">mod_open_with.py</span></tt> node in <tt class="docutils literal"><span class="pre">LeoPlugins.leo</span></tt> gives a complete example
of handling the <tt class="docutils literal"><span class="pre">Open</span> <span class="pre">With</span></tt> menu.</p>
</div>
<div class="section" id="tangling-an-outline-producing-derived-files">
<h3><a class="toc-backref" href="#id5" name="tangling-an-outline-producing-derived-files">Tangling an outline: Producing Derived Files</a></h3>
<p>The <tt class="docutils literal"><span class="pre">Tangle</span></tt>, <tt class="docutils literal"><span class="pre">Tangle</span> <span class="pre">All</span></tt> and <tt class="docutils literal"><span class="pre">Tangle</span> <span class="pre">Marked</span></tt> commands create derived
files from portions of an outline. These commands indent and format the derived
files so that they are easy to read and so that it is clear what sections
produced the code. The .c file in the Examples folder shows the code produced by
the Tangle commands. The <tt class="docutils literal"><span class="pre">Tangle</span></tt> command tangles only the selected portion of
the outline, the <tt class="docutils literal"><span class="pre">Tangle</span> <span class="pre">All</span></tt> command tangles the entire outline, and the
<tt class="docutils literal"><span class="pre">Tangle</span> <span class="pre">Marked</span></tt> command tangles only marked headlines.</p>
<p>The <tt class="docutils literal"><span class="pre">Tangle</span></tt> commands create a derived file, call it F, from each <tt class="docutils literal"><span class="pre">&#64;root</span></tt>
node. This process is like macro expansion. The contents of F are simply the
body text of the <tt class="docutils literal"><span class="pre">&#64;root</span> <span class="pre">node</span></tt>, with each section reference replaced by its
definition. Substitution continues until all references to sections are replaced
with their definitions. By default, <tt class="docutils literal"><span class="pre">Tangle</span></tt> commands look for section
definitions only in the suboutline containing the <tt class="docutils literal"><span class="pre">&#64;root</span></tt> directive being
tangled. That is, all sections are assumed to be defined either in the body text
of the headline, say h, containing the
The <tt class="docutils literal"><span class="pre">&#64;unit</span></tt> directive changes the default scope of the tangle command, while
the <tt class="docutils literal"><span class="pre">&#64;ignore</span></tt> directive causes the tangle commands to ignore a subtree. For
more details, see: <a class="reference" href="directives.html#tangling-root-trees-with-the-tangle-commands">Tangling &#64;root trees with the Tangle commands</a></p>
</div>
<div class="section" id="untangling-updating-an-outline">
<h3><a class="toc-backref" href="#id6" name="untangling-updating-an-outline">Untangling: updating an outline</a></h3>
<p>The <tt class="docutils literal"><span class="pre">Untangle</span></tt>, <tt class="docutils literal"><span class="pre">Untangle</span> <span class="pre">All</span></tt> and <tt class="docutils literal"><span class="pre">Untangle</span> <span class="pre">Marked</span></tt> commands are the
reverse of the corresponding <tt class="docutils literal"><span class="pre">Tangle</span></tt> commands. They update an outline based
on changes made to one or more derived files. These are exceptionally useful
commands. For example, suppose you create a new part of the outline and
<tt class="docutils literal"><span class="pre">Tangle</span></tt> it for the first time. When you compile the resulting derived files
for the first time, you are likely to get many syntax errors. You could fix
those errors in the outline and Tangle the outline again, but there is a much
easier way: you fix the errors in the derived files using the compiler's editor,
then run the untangle command on the part of the outline that created the
derived file. The <tt class="docutils literal"><span class="pre">Untangle</span></tt> command updates the selected outline to match the
changes in the derived files. It's as simple as that. The <tt class="docutils literal"><span class="pre">Untangle</span></tt> command
marks all the nodes in the outline that it updates; you can examine all such
nodes with the <tt class="docutils literal"><span class="pre">Go</span> <span class="pre">To</span> <span class="pre">Next</span> <span class="pre">Marked</span></tt> command in the Outline menu. You cannot use
<tt class="docutils literal"><span class="pre">Untangle</span></tt> to update doc parts, or leading comments in code parts or &quot;trivial&quot;
whitespace in code parts. This is a limitation of the <tt class="docutils literal"><span class="pre">Untangle</span></tt> command that
cannot be fixed; <tt class="docutils literal"><span class="pre">Untangle</span></tt> has no way of knowing whether leading comments
came from doc parts or are just leading comments.</p>
<p><tt class="docutils literal"><span class="pre">Untangle</span></tt> never changes the structure of an outline; it never inserts,
deletes or moves nodes. Don't attempt to change the structure of an outline by
modifying derived files; it won't work. Also, never delete, move or alter the
sentinel lines in derived files written by the Tangle command. Such lines start
with <tt class="docutils literal"><span class="pre">///</span></tt> followed by a section name. If you change the section name in a
sentinel line <tt class="docutils literal"><span class="pre">Untangle</span></tt> will not update the code in the outline (with the old
name) that generated the renamed section. Untangle now warns about sections that
appear in a derived file but not in the outline. Untangle has no trouble with
changed section references in derived files; it is only changed sentinel lines
that cause problems. Cloned nodes that generate code in several files may cause
problems for <tt class="docutils literal"><span class="pre">Untangle</span></tt> if not all the code is changed the same way in derived
files. If <tt class="docutils literal"><span class="pre">Untangle</span></tt> is run separately on these derived files, Untangle will
update all cloned nodes each time it is run, so only the code in the last
<tt class="docutils literal"><span class="pre">Untangle</span></tt> run will take effect. Therefore, the only reliable way to update
text in cloned nodes is to make the change in the .leo file rather than the
derived files.</p>
</div>
<div class="section" id="importing-files-into-leo-outlines">
<h3><a class="toc-backref" href="#id7" name="importing-files-into-leo-outlines">Importing Files into Leo Outlines</a></h3>
<p>The <tt class="docutils literal"><span class="pre">Import</span></tt> commands do not attempt to do perfect translations; they merely automate the bulk of the drudgery:</p>
<ul class="simple">
<li>The <tt class="docutils literal"><span class="pre">Import</span> <span class="pre">to</span> <span class="pre">&#64;file</span></tt> command creates an <tt class="docutils literal"><span class="pre">&#64;file</span></tt> node from a file.</li>
<li>The <tt class="docutils literal"><span class="pre">Import</span> <span class="pre">to</span> <span class="pre">&#64;root</span></tt> command creates an <tt class="docutils literal"><span class="pre">&#64;root</span> <span class="pre">node</span></tt> from a file.</li>
<li>The <tt class="docutils literal"><span class="pre">Import</span> <span class="pre">CWEB</span> <span class="pre">Files</span></tt> command creates an &#64;file node from a <a class="reference" href="http://www-cs-faculty.stanford.edu/~knuth/cweb.html">CWEB</a> file.</li>
<li>The <tt class="docutils literal"><span class="pre">Import</span> <span class="pre">noweb</span> <span class="pre">Files</span></tt> command creates an &#64;file node from a <a class="reference" href="http://www.eecs.harvard.edu/~nr/noweb/">noweb</a> file.</li>
<li>The Import Derived File command imports all the nodes in a derived file into the outline.
Unlike the read commands, the command preserves no outline structure.</li>
<li>The <tt class="docutils literal"><span class="pre">Import</span> <span class="pre">Flattened</span> <span class="pre">Outline</span></tt> command converts plain text written in <tt class="docutils literal"><span class="pre">MORE</span></tt> format to an outline.</li>
</ul>
<p>The <tt class="docutils literal"><span class="pre">Import</span> <span class="pre">Flattened</span> <span class="pre">Outline</span></tt> command brings up a dialog which will accept at
most one file. If that file contains MORE-format text it creates an outline
corresponding to that text. <tt class="docutils literal"><span class="pre">MORE</span></tt> is a now-defunct outliner program. <tt class="docutils literal"><span class="pre">MORE</span></tt>
represents outlines as follows. Headlines are denoted by a leading <tt class="docutils literal"><span class="pre">+</span></tt> or
<tt class="docutils literal"><span class="pre">-</span></tt> character, preceding by zero or more tabs that denote the level of the
headline. Body text follows its headline, with no indentation. The original
<tt class="docutils literal"><span class="pre">MORE</span></tt> format did not escape lines in the body text that started with <tt class="docutils literal"><span class="pre">+</span></tt> or <tt class="docutils literal"><span class="pre">-</span></tt>.
Leo escapes such characters by preceding <tt class="docutils literal"><span class="pre">+</span></tt>, <tt class="docutils literal"><span class="pre">-</span></tt> or backslash with a
backslash.</p>
</div>
<div class="section" id="exporting-files-from-leo-outlines">
<h3><a class="toc-backref" href="#id8" name="exporting-files-from-leo-outlines">Exporting Files from Leo Outlines</a></h3>
<ul class="simple">
<li>The <tt class="docutils literal"><span class="pre">Outline</span> <span class="pre">To</span> <span class="pre">CWEB</span></tt> command creates a <a class="reference" href="http://www-cs-faculty.stanford.edu/~knuth/cweb.html">CWEB</a> file from the selected outline.</li>
<li>The <tt class="docutils literal"><span class="pre">Outline</span> <span class="pre">TO</span> <span class="pre">noweb</span></tt> command creates a <a class="reference" href="http://www.eecs.harvard.edu/~nr/noweb/">noweb</a> file from the selected outline.</li>
<li>The <tt class="docutils literal"><span class="pre">Flatten</span> <span class="pre">Outline</span></tt> command creates a text file in <tt class="docutils literal"><span class="pre">MORE</span></tt> format from the selected outline.
See the previous section for a discussion of <tt class="docutils literal"><span class="pre">MORE</span></tt> format.</li>
<li>The <tt class="docutils literal"><span class="pre">Remove</span> <span class="pre">Sentinels</span></tt> command removes all sentinel lines from a file derived from an <tt class="docutils literal"><span class="pre">&#64;file</span></tt> node.</li>
<li>The <tt class="docutils literal"><span class="pre">Weave</span></tt> Command formats the selected text and writes it to a file.</li>
</ul>
</div>
<div class="section" id="quitting-leo">
<h3><a class="toc-backref" href="#id9" name="quitting-leo">Quitting Leo</a></h3>
<p>The <tt class="docutils literal"><span class="pre">Quit</span></tt> command causes Leo to exit. You may also exit Leo by closing the
main window. You will be prompted to save any file that has been altered but not
saved.</p>
</div>
</div>
<div class="section" id="the-edit-menu">
<h2><a class="toc-backref" href="#id10" name="the-edit-menu">The Edit Menu</a></h2>
<div class="section" id="undoing-changes">
<h3><a class="toc-backref" href="#id11" name="undoing-changes">Undoing changes</a></h3>
<p>Leo supports unlimited undo and redo. Think of actions that may be undone or
redone as a string of beads. A &quot;bead pointer&quot; points to the present bead.
Performing an operation creates a new bead after the present bead and removes
all following beads. Undoing an operation moves the bead pointer backwards;
redoing an operation moves the bead pointer forwards. The <tt class="docutils literal"><span class="pre">Undo</span></tt> command is
disabled when the bead pointer moves in front of the first bead; the <tt class="docutils literal"><span class="pre">Redo</span></tt>
command is disabled when the bead pointer points to the last bead.</p>
</div>
<div class="section" id="cutting-pasting-and-selecting-text">
<h3><a class="toc-backref" href="#id12" name="cutting-pasting-and-selecting-text">Cutting, pasting and selecting text</a></h3>
<p>Leo supports the standard editing commands: <tt class="docutils literal"><span class="pre">Cut</span></tt>, <tt class="docutils literal"><span class="pre">Copy</span></tt>, <tt class="docutils literal"><span class="pre">Paste</span></tt>,
<tt class="docutils literal"><span class="pre">Clear</span></tt> and <tt class="docutils literal"><span class="pre">Select</span> <span class="pre">All</span></tt>. These commands work with either headline or body
text.</p>
</div>
<div class="section" id="shifting-body-text">
<h3><a class="toc-backref" href="#id13" name="shifting-body-text">Shifting body text</a></h3>
<p>The <tt class="docutils literal"><span class="pre">Shift</span> <span class="pre">Left</span></tt> and <tt class="docutils literal"><span class="pre">Shift</span> <span class="pre">Right</span></tt> commands shift selected lines in the body
text left or right one tab position. These commands shift the entire line if any
characters in that line are selected.</p>
</div>
<div class="section" id="adding-and-deleting-comments-in-body-text">
<h3><a class="toc-backref" href="#id14" name="adding-and-deleting-comments-in-body-text">Adding and deleting comments in body text</a></h3>
<ul class="simple">
<li>The <tt class="docutils literal"><span class="pre">Add</span> <span class="pre">Comments</span></tt> command puts comments around a block of code.
This command uses single-line comments if possible.</li>
<li>The <tt class="docutils literal"><span class="pre">Delete</span> <span class="pre">Comments</span></tt> command deletes the comments specified by the <tt class="docutils literal"><span class="pre">Add</span> <span class="pre">Comments</span></tt> command.</li>
</ul>
</div>
<div class="section" id="creating-nodes-from-body-text">
<h3><a class="toc-backref" href="#id15" name="creating-nodes-from-body-text">Creating nodes from body text</a></h3>
<p>The Extract, Extract Section and Extract Section Names commands create child nodes whose headline is the first line of the selected body text.</p>
<ul class="simple">
<li>The <tt class="docutils literal"><span class="pre">Extract</span> <span class="pre">command</span></tt> creates a new node whose headline is the first line of selected body text and
whose body is all other lines of selected text.
Previously selected text is deleted from the original body text.</li>
<li>The <tt class="docutils literal"><span class="pre">Extract</span> <span class="pre">Section</span> <span class="pre">command</span></tt> creates a new node whose headline is the first line of selected text and
whose body is <tt class="docutils literal"><span class="pre">&#64;code</span></tt> followed by all the other lines of selected text.
All selected text lines except the first line are deleted from the original body text.
This command is enabled only if the first line contains nothing but section name.</li>
<li>The <tt class="docutils literal"><span class="pre">Extract</span> <span class="pre">Section</span> <span class="pre">Names</span></tt> command creates one or more child nodes,
one for each section name in the selected body text.
The headline of each created node is the section name; the body text is <tt class="docutils literal"><span class="pre">&#64;code</span></tt> followed by a newline.</li>
</ul>
</div>
<div class="section" id="converting-leading-blanks-and-tabs-in-body-text">
<h3><a class="toc-backref" href="#id16" name="converting-leading-blanks-and-tabs-in-body-text">Converting leading blanks and tabs in body text</a></h3>
<ul class="simple">
<li>The Convert Tabs command converts leading tabs to blanks in a single node.</li>
<li>The Convert Blanks command converts blanks to tabs in a single node.</li>
<li>The Convert All Tabs converts leading tabs to blanks throughout the selected tree.</li>
<li>The Convert All Blanks command converts leading blanks to tabs throughout the selected tree.</li>
</ul>
<p>All these commands convert between tabs and blanks using the tab width presently in effect.</p>
</div>
<div class="section" id="executing-python-scripts-in-body-text">
<h3><a class="toc-backref" href="#id17" name="executing-python-scripts-in-body-text">Executing Python scripts in body text</a></h3>
<p>The <tt class="docutils literal"><span class="pre">Execute</span> <span class="pre">Script</span></tt> command executes body text as a Python script. Leo
execute the selected text, or the entire body text if no text is selected. The
<tt class="docutils literal"><span class="pre">Execute</span> <span class="pre">Script</span></tt> command pre-defines the values <tt class="docutils literal"><span class="pre">c</span></tt>, <tt class="docutils literal"><span class="pre">g</span></tt> and <tt class="docutils literal"><span class="pre">p</span></tt> as
follows:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">c</span></tt> is the commander of the outline containing the script.</li>
<li><tt class="docutils literal"><span class="pre">g</span></tt> is the leoGlobals modules.</li>
<li><tt class="docutils literal"><span class="pre">p</span></tt> is <tt class="docutils literal"><span class="pre">c.currentPosition()</span></tt>.</li>
</ul>
<p><strong>Important</strong>: Body text may contain Leo directives and section references. You
can now use all of Leo's features to organize scripts that you execute
interactively. Section definitions must appear in the node containing the script
or in descendant nodes.</p>
<p>Leo preprocesses all scripts by simulating the writing of a derived file to a
string. The <tt class="docutils literal"><span class="pre">Execute</span> <span class="pre">Script</span></tt> command sets <tt class="docutils literal"><span class="pre">app.scriptDict[&quot;script1&quot;]</span></tt> to the
value of the script before preprocessing, and sets <tt class="docutils literal"><span class="pre">app.scriptDict[&quot;script2&quot;]</span></tt>
to the value of the script after preprocessing. Scripts may examine and change
app.scriptDict as they please.</p>
</div>
<div class="section" id="finding-and-changing-text">
<h3><a class="toc-backref" href="#id18" name="finding-and-changing-text">Finding and changing text</a></h3>
<p>The following check boxes options appear in the search dialog and control the operations of the find and change commands.</p>
<dl class="docutils">
<dt>Show Context</dt>
<dd>When checked, the <tt class="docutils literal"><span class="pre">Find</span> <span class="pre">and</span> <span class="pre">Change</span></tt> commands show additional context information when printing matches.</dd>
<dt>Ignore Case</dt>
<dd>When checked, the <tt class="docutils literal"><span class="pre">Find</span> <span class="pre">and</span> <span class="pre">Change</span></tt> commands ignore the case of alphabetic characters when determining matches.</dd>
<dt>Mark Changes</dt>
<dd>When checked, the <tt class="docutils literal"><span class="pre">Change</span></tt> command marks all headlines whose headline or body text are changed by the command.</dd>
<dt>Mark Matches</dt>
<dd>When checked, the <tt class="docutils literal"><span class="pre">Find</span> <span class="pre">and</span> <span class="pre">Change</span></tt> commands mark all headlines in which a match is found with the pattern.</dd>
<dt>Pattern Match</dt>
<dd><p class="first">When checked, the <tt class="docutils literal"><span class="pre">Find</span> <span class="pre">and</span> <span class="pre">Change</span></tt> commands treat several characters specially in the find pattern.</p>
<ul class="last simple">
<li>'*'  matches any sequence of zero or more characters.</li>
<li>'.'  matches any single character.</li>
<li>'^'  matches a newline at the start of a pattern.</li>
<li>'$'  matches a newline at the end of a pattern.</li>
</ul>
</dd>
</dl>
<p>Examples:</p>
<pre class="literal-block">
&quot;^abc$&quot; matches lines that only contain &quot;abc&quot;.
&quot;^a&quot; matches any line starting with &quot;A&quot;.
&quot;a$&quot; matches any line ending with &quot;a&quot;.
&quot;^*$&quot; matches any line at all.
</pre>
<dl class="docutils">
<dt>Reverse</dt>
<dd>When checked, the <tt class="docutils literal"><span class="pre">Find</span> <span class="pre">and</span> <span class="pre">Change</span></tt> commands search backward through the file.</dd>
<dt>Search Body Text</dt>
<dd>When checked, the <tt class="docutils literal"><span class="pre">Find</span> <span class="pre">and</span> <span class="pre">Change</span></tt> commands search body text.</dd>
<dt>Search Headline Text</dt>
<dd>When checked, the <tt class="docutils literal"><span class="pre">Find</span> <span class="pre">and</span> <span class="pre">Change</span></tt> commands search headline text.</dd>
<dt>Suboutline Only</dt>
<dd>When checked, the <tt class="docutils literal"><span class="pre">Find</span> <span class="pre">and</span> <span class="pre">Change</span></tt> commands search only the currently selected headline and its offspring.</dd>
<dt>Whole Word</dt>
<dd>When checked, the find pattern must match an entire word.
Words consist of an alphabetic character or underscore, followed by zero or more
alphabetic characters, numbers or underscores.</dd>
<dt>Wrap Around</dt>
<dd>When checked, the <tt class="docutils literal"><span class="pre">Find</span> <span class="pre">and</span> <span class="pre">Change</span></tt> commands continues at the top of the file when
the command reaches the bottom of the file.
For reverse searches, the find or change command continues at the bottom of the file when
the command reaches the top of the file.</dd>
</dl>
</div>
<div class="section" id="script-search">
<h3><a class="toc-backref" href="#id19" name="script-search">Script search</a></h3>
<p><strong>Important</strong>: Script buttons are easier to use than the script-oriented
find/change commands described next. I recommend using script buttons whenever
possible. See <a class="reference" href="customizing.html#creating-script-buttons">Creating script buttons</a>.
You are not likely to need all the firepower that script-orient find/change commands,
but it could save you lots of time for complex jobs.</p>
<p>Leo's find panel contains the <tt class="docutils literal"><span class="pre">Script</span> <span class="pre">Search</span></tt> radio button and the <tt class="docutils literal"><span class="pre">Script</span>
<span class="pre">Change</span></tt> checkbox. When the <tt class="docutils literal"><span class="pre">Script</span> <span class="pre">Search</span></tt> radio button is selected Leo treats the
contents of the <tt class="docutils literal"><span class="pre">Search</span> <span class="pre">Text</span></tt> as a script to execute whenever any kind of Find
command is executed. Similarly, when the <tt class="docutils literal"><span class="pre">Script</span> <span class="pre">Change</span></tt> checkbox is selected Leo
treats the context of the <tt class="docutils literal"><span class="pre">Change</span> <span class="pre">Text</span></tt> as a script to execute whenever any kind
of Change command is executed.</p>
<p>Script-based find-change turns Leo's Find/Change panel into a platform for
running scripts interactively. The script writer need not write code to control
interactive searches.</p>
<p>Here's how it works. Leo dedicates <tt class="docutils literal"><span class="pre">g.app.searchDict</span></tt> for
communication between Leo and the search and change scripts. The search and
change scripts may also use <tt class="docutils literal"><span class="pre">g.app.searchDict</span></tt> for communication between themselves.
Leo sets <tt class="docutils literal"><span class="pre">g.app.searchDict[&quot;type&quot;]</span></tt> to &quot;find&quot;, &quot;change&quot;, &quot;findAll&quot; or &quot;changeAll&quot; to
indicate the kind of command being executed. Scripts may use all other entries
in <tt class="docutils literal"><span class="pre">g.app.searchDict</span></tt> as they please.</p>
<p>Here is what Leo does when the user presses buttons with <tt class="docutils literal"><span class="pre">Script</span> <span class="pre">Search</span></tt> enable:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">Find</span> <span class="pre">and</span> <span class="pre">Change,</span> <span class="pre">then</span> <span class="pre">Find</span></tt> buttons</dt>
<dd>Leo executes the find script once. Typically, the find script would traverse
the tree and highlight the found text or otherwise indicate to the user that
the find operation has succeeded. However, the script can do anything it
pleases.</dd>
<dt><tt class="docutils literal"><span class="pre">Find</span> <span class="pre">All</span></tt> button</dt>
<dd>Leo executes the find script repeatedly until <tt class="docutils literal"><span class="pre">g.app.searchDict[&quot;continue&quot;]</span></tt> evaluates
to <tt class="docutils literal"><span class="pre">False</span></tt>. Initially there is no entry for <tt class="docutils literal"><span class="pre">g.app.searchDict[&quot;continue&quot;]</span></tt>, so the
find script must set <tt class="docutils literal"><span class="pre">g.app.searchDict[&quot;continue&quot;]</span> <span class="pre">=</span> <span class="pre">True</span></tt> if it wants Leo call it again.</dd>
<dt><tt class="docutils literal"><span class="pre">Change</span></tt> button</dt>
<dd>Leo executes the change script once. Typically, the change script would change
the selected text. Usually the change script will compute the new value of body
text and call <tt class="docutils literal"><span class="pre">p.setBodyStringOrPane(newText)</span></tt> to make that change permanent. 
To handle undo, the change script can call
<tt class="docutils literal"><span class="pre">c.frame.onBodyChanged(v,&quot;Change&quot;,oldText=oldText)</span></tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">Change</span> <span class="pre">All</span></tt> button</dt>
<dd>Leo executes the change script repeatedly
until g.app.searchDict[&quot;continue&quot;] evaluates to false.</dd>
</dl>
<p>Most find and change scripts will ignore settings in the Find Panel like &quot;whole
word&quot;, &quot;pattern match&quot;, and &quot;reverse&quot;. However, these settings are available to
the scripts via ivars such as <tt class="docutils literal"><span class="pre">c.whole_word_flag</span></tt>, etc. if desired.</p>
<p>The <tt class="docutils literal"><span class="pre">initScriptFind</span></tt> script in <tt class="docutils literal"><span class="pre">LeoPy.leo</span></tt> makes it easy to set up script based searches:</p>
<ol class="arabic">
<li><p class="first">Put the following code in the root of a tree that will contain your script search:</p>
<pre class="literal-block">
# Initialize Leo's find panel using the named children of this node.
import leoGlobals as g.
g.initScriptFind(&quot;Find script&quot;,&quot;Change script&quot;) # Second argument is optional.
# Start searching at the top.
c.selectPosition(c.rootPosition())
</pre>
</li>
<li><p class="first">Put the search script in a child node called &quot;Find script&quot; (no quotes).</p>
</li>
<li><p class="first">(Optional) Put the change script in a child node called &quot;Change script&quot;</p>
</li>
<li><p class="first">Execute the code above.  Leo does the following:</p>
</li>
</ol>
<ul class="simple">
<li>Puts the body of the &quot;Find script&quot; into the find text of Leo's Find/Change dialog.</li>
<li>Puts the body of the &quot;Change script&quot; into the change text of Leo's Find/Change dialog.</li>
<li>Selects the Script Find radio button.</li>
<li>Selects the Script Change checkbox if the change script exists.</li>
<li>Selects the root of the entire outline.</li>
</ul>
<p>Presto! Leo is ready for a script search. <strong>Note</strong>: you could also consider creating a
script button to set up complex find/change scripts.</p>
<p>Here are some ideas for using script find/change.</p>
<ul class="simple">
<li>Find and change scripts may use Python's re module.  For
example, the find script could set <tt class="docutils literal"><span class="pre">g.app.searchDict[&quot;m&quot;]</span></tt> to the match object
returned by re's match method.  The change script would then compute the
result, change the text and set the undo info as usual.</li>
<li>Find and change scripts may operate on data outside any Leo outline.
For example, script-find scripts could traverse your file system.
Scripts could even pull data from the file system
into the outline so that you can see the effects of changes as the scripts
operate.</li>
</ul>
</div>
<div class="section" id="go-to-line-number">
<h3><a class="toc-backref" href="#id20" name="go-to-line-number">Go To Line Number</a></h3>
<p>The <tt class="docutils literal"><span class="pre">Go</span> <span class="pre">To</span> <span class="pre">Line</span> <span class="pre">Number</span></tt> command selects the locations in your outlines corresponding to a line in a derived file.</p>
</div>
<div class="section" id="inserting-the-date-and-time">
<h3><a class="toc-backref" href="#id21" name="inserting-the-date-and-time">Inserting the date and time</a></h3>
<p>The <tt class="docutils literal"><span class="pre">Insert</span> <span class="pre">Body</span> <span class="pre">Time/Date</span></tt> and <tt class="docutils literal"><span class="pre">Insert</span> <span class="pre">Headline</span> <span class="pre">Time/Date</span></tt> commands insert
formatted time and date into body or headline text. You must be editing a
headline to be able to insert the time/date into the headline.
The `` body_time_format_string`` and <tt class="docutils literal"><span class="pre">headline_time_format_string</span></tt> settings
specify the format of the inserted text. These settings are the format string
passed to time.strftime. For a complete list of the format options see
<a class="reference" href="http://www.python.org/doc/current/lib/module-time.html">http://www.python.org/doc/current/lib/module-time.html</a>
If the format specified by either of these two settings is erroneous the
<tt class="docutils literal"><span class="pre">&quot;%m/%d/%Y</span> <span class="pre">%H:%M:%S&quot;</span></tt> format is used by default, resulting in a time/date
format like:</p>
<pre class="literal-block">
1/30/2003 8:31:55
</pre>
</div>
<div class="section" id="reformatting-paragraphs-in-body-text">
<h3><a class="toc-backref" href="#id22" name="reformatting-paragraphs-in-body-text">Reformatting paragraphs in body text</a></h3>
<p>The Reformat Paragraph command rearranges the words in a text paragraph to fill
each line as full as possible, up to the <tt class="docutils literal"><span class="pre">&#64;pagewidth</span></tt> setting. A paragraph is
delimited by blank lines, Leo directives, and (of course) start and end of text
in a node. The width of the line used by the reformatting operation is governed
by <tt class="docutils literal"><span class="pre">&#64;pagewidth</span></tt> and the indentation that would be applied to the node when
tangled (as part of a <tt class="docutils literal"><span class="pre">&#64;root</span></tt>) or written (as part of a <tt class="docutils literal"><span class="pre">&#64;file</span></tt>).</p>
<p>The command operates on the paragraph containing the insert cursor. If the
insert cursor is on a blank line or directive, nothing happens. If the cursor is
on a line containing text, then the paragraph containing that text line is
reformatted and the insert cursor is moved to the next paragraph.</p>
<p><strong>Note</strong>: Hanging indentation is preserved. This is most useful for bulleted or
numbered lists, such as:</p>
<pre class="literal-block">
1. This is the first paragraph,
   and it has a hanging indentation.

2. This is the second paragraph,
   and it too has a hanging indentation.
</pre>
</div>
<div class="section" id="matching-brackets-and-parenthesis">
<h3><a class="toc-backref" href="#id23" name="matching-brackets-and-parenthesis">Matching brackets and parenthesis</a></h3>
<p>The <tt class="docutils literal"><span class="pre">Match</span> <span class="pre">Brackets</span></tt> command is enabled if the cursor is next to one of the
following characters in the body pane:</p>
<blockquote>
( ) [ ] { } &lt; &gt;</blockquote>
<p>This command looks for the matching character, searching backwards through the
body text if the cursor is next to <cite>)</cite> <cite>]</cite> <cite>}</cite> or <cite>&gt;</cite> and searching forward through the
text otherwise. If the cursor is between two brackets the search is made for the
bracket matching the leftmost bracket. If a match is found, the entire range of
characters delimited by the brackets is highlighted and the cursor is placed
just to the left of the matching characters. Thus, executing this command twice
highlights the range of matched characters without changing the cursor.</p>
</div>
<div class="section" id="specifying-settings">
<h3><a class="toc-backref" href="#id24" name="specifying-settings">Specifying settings</a></h3>
<p>Leo stores options in <tt class="docutils literal"><span class="pre">&#64;settings</span></tt> trees, that is, outlines whose headline is
<tt class="docutils literal"><span class="pre">&#64;settings</span></tt>. When opening a .leo file, Leo looks for <tt class="docutils literal"><span class="pre">&#64;settings</span></tt> trees not only
in the outline being opened but also in various leoSettings.leo files.
The key design goal of <tt class="docutils literal"><span class="pre">&#64;settings</span></tt> trees was that Leo's user options must be
infinitely flexible. That goal has been accomplished. Indeed, users can create
arbitrarily complex user options with <tt class="docutils literal"><span class="pre">&#64;settings</span></tt> trees. Leo settings outlines
are, in fact, much more flexible and powerful than any scheme based on
flat text.</p>
<p>The <tt class="docutils literal"><span class="pre">Settings</span></tt> command temporarily replaces the outline pane with an outline
showing all the <tt class="docutils literal"><span class="pre">&#64;settings</span></tt> trees in effect. The Settings command also
replaces the body pane with a &quot;settings pane&quot;. This settings pane allows you to
change the settings selected in the outline pane using standard gui widgets. The
settings pane is dynamically created from nodes in the settings tree; it is as
extensible as the <tt class="docutils literal"><span class="pre">&#64;settings</span></tt> tree itself.</p>
<p>Leo stores options in <tt class="docutils literal"><span class="pre">&#64;settings</span></tt> trees, that is, parts of Leo outlines whose root
node has the headline <tt class="docutils literal"><span class="pre">&#64;settings</span></tt>. When opening a .leo file, Leo looks for
<tt class="docutils literal"><span class="pre">&#64;settings</span></tt> trees in the following places:</p>
<ul class="simple">
<li>The file <tt class="docutils literal"><span class="pre">leoSettings.leo</span></tt> in the leo/config directory.</li>
<li>The file <tt class="docutils literal"><span class="pre">leoSettings.leo</span></tt> in the user's home directory.</li>
<li>The file being loaded.</li>
</ul>
<p>Settings that appear later in the above list override settings found earlier. For
example, any setting specified in an <tt class="docutils literal"><span class="pre">&#64;settings</span></tt> tree in the file being loaded
overrides any setting seen in any <tt class="docutils literal"><span class="pre">leoSettings.leo</span></tt> file.</p>
<p>The Settings command temporarily replaces the outline pane with an outline
showing all the <tt class="docutils literal"><span class="pre">&#64;settings</span></tt> trees in effect. The Settings command also replaces
the body pane with a &quot;settings dialog&quot; pane. This settings dialog pane allows
you to change the settings selected in the outline pane using standard gui
widgets.</p>
<p>The format of nodes in <tt class="docutils literal"><span class="pre">&#64;settings</span></tt> trees are as follows:</p>
<ol class="arabic">
<li><p class="first">&quot;Simple settings nodes&quot; have headlines of the form:</p>
<pre class="literal-block">
&#64;&lt;type&gt; name = val
</pre>
</li>
</ol>
<p>set the value of <tt class="docutils literal"><span class="pre">name</span></tt> to <tt class="docutils literal"><span class="pre">val</span></tt>, with the indicated type.</p>
<p>&lt;type&gt; may be one of the following:</p>
<table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="84%" />
</colgroup>
<tbody valign="top">
<tr><td>&lt;type&gt;</td>
<td>Valid values</td>
</tr>
<tr><td>&#64;bool</td>
<td>True, False, 0, 1</td>
</tr>
<tr><td>&#64;color</td>
<td>A Tk color name or value, such as 'red' or 'xf2fddff' (without the quotes)</td>
</tr>
<tr><td>&#64;directory</td>
<td>A path to a directory</td>
</tr>
<tr><td>&#64;float</td>
<td>A floating point number of the form nn.ff.</td>
</tr>
<tr><td>&#64;int</td>
<td>An integer</td>
</tr>
<tr><td>&#64;ints[list]</td>
<td>An integer (must be one of the ints in the list).
Example: &#64;ints meaningOfLife[0,42,666]=42</td>
</tr>
<tr><td>&#64;path</td>
<td>A path to a directory or file</td>
</tr>
<tr><td>&#64;ratio</td>
<td>A floating point number between 0.0 and 1.0, inclusive.</td>
</tr>
<tr><td>&#64;shortcut</td>
<td>A valid shortcut specifier.</td>
</tr>
<tr><td>&#64;string</td>
<td>A string</td>
</tr>
<tr><td>&#64;strings[list]</td>
<td>A string (must be one of the strings in the list).
Example: &#64;strings tk_relief['flat','groove','raised']='groove'</td>
</tr>
</tbody>
</table>
<p><strong>Note</strong>: For a list of Tk color specifiers see:</p>
<ul class="simple">
<li><a class="reference" href="http://www.tcl.tk/man/tcl8.4/TkCmd/colors.htm">http://www.tcl.tk/man/tcl8.4/TkCmd/colors.htm</a></li>
<li><a class="reference" href="http://www.tcl.tk/man/tcl8.4/TkLib/GetColor.htm">http://www.tcl.tk/man/tcl8.4/TkLib/GetColor.htm</a></li>
</ul>
<ol class="arabic" start="2">
<li><p class="first">&quot;Complex settings nodes&quot; have headlines of the form:</p>
<pre class="literal-block">
&#64;&lt;type&gt; description
</pre>
</li>
</ol>
<p>The actual settings are specified in the body text.  At present, there are two such kinds of complex settings nodes:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">&#64;font</span></tt></li>
</ul>
<p>The body text contains a list of settings for a font.  For example:</p>
<pre class="literal-block">
body_text_font_family = Courier New
body_text_font_size = None
body_text_font_slant = None
body_text_font_weight = None
</pre>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">&#64;recentfiles</span></tt></li>
</ul>
<p>The body text contains a list of paths of recently opened files, one path per line.
Leo writes the list of recent files to <tt class="docutils literal"><span class="pre">.leoRecentFiles.txt</span></tt> in Leo's <tt class="docutils literal"><span class="pre">config</span></tt> directory,
again one file per line.</p>
</div>
</div>
<div class="section" id="the-outline-menu">
<h2><a class="toc-backref" href="#id25" name="the-outline-menu">The Outline Menu</a></h2>
<div class="section" id="checking-outlines">
<h3><a class="toc-backref" href="#id26" name="checking-outlines">Checking outlines</a></h3>
<ul>
<li><p class="first">The <tt class="docutils literal"><span class="pre">Check</span> <span class="pre">Outline</span></tt> command checks the outline for consistency.</p>
</li>
<li><p class="first">The <tt class="docutils literal"><span class="pre">Check</span> <span class="pre">All</span> <span class="pre">Python</span> <span class="pre">Code</span></tt> and <tt class="docutils literal"><span class="pre">Check</span> <span class="pre">Python</span> <span class="pre">Code</span></tt> commands report any syntax errors or tabnanny errors.
These commands mark erroneous nodes and ignore any nodes for which:</p>
<blockquote>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">&#64;ignore</span></tt> is in effect or</li>
<li><tt class="docutils literal"><span class="pre">&#64;language</span> <span class="pre">python</span></tt> is in not effect.</li>
</ul>
</blockquote>
</li>
<li><p class="first">The <tt class="docutils literal"><span class="pre">Check</span> <span class="pre">Python</span> <span class="pre">Code</span></tt> and <tt class="docutils literal"><span class="pre">Pretty</span> <span class="pre">Print</span> <span class="pre">Python</span> <span class="pre">Code</span></tt> pretty print body text.
You can customize this code by overriding the following methods of class <tt class="docutils literal"><span class="pre">prettyPrinter</span></tt> in <tt class="docutils literal"><span class="pre">leoCommands.py</span></tt>:</p>
<pre class="literal-block">
putOperator:      puts whitespace around operators.
putNormalToken:   puts whitespace around everything else.
</pre>
</li>
</ul>
</div>
<div class="section" id="creating-cloning-nodes">
<h3><a class="toc-backref" href="#id27" name="creating-cloning-nodes">Creating &amp; cloning nodes</a></h3>
<ul class="simple">
<li>The <tt class="docutils literal"><span class="pre">Insert</span> <span class="pre">Headline</span></tt> command inserts a new headline after the presently selected headline,
either as the next sibling or the first child of the presently selected headline
if the presently selected headline has children and is expanded.</li>
<li>The <tt class="docutils literal"><span class="pre">Clone</span> <span class="pre">Node</span></tt> creates a clone of the selected node.
See <a class="reference" href="intro.html#clones-views">Clones and views</a> for full details about clones.</li>
</ul>
</div>
<div class="section" id="cutting-pasting-and-deleting-nodes">
<h3><a class="toc-backref" href="#id28" name="cutting-pasting-and-deleting-nodes">Cutting, pasting and deleting nodes</a></h3>
<ul class="simple">
<li>The <tt class="docutils literal"><span class="pre">Cut</span> <span class="pre">Outline</span></tt> and <tt class="docutils literal"><span class="pre">Copy</span> <span class="pre">Outline</span></tt> commands copy a text
representation of the outline to the clipboard. This representation is the same
as the file format with some information deleted.</li>
<li>The <tt class="docutils literal"><span class="pre">Paste</span></tt> command (in the <tt class="docutils literal"><span class="pre">Edit</span></tt> menu) copies this representation into the <em>body</em> pane.</li>
<li>The <tt class="docutils literal"><span class="pre">Paste</span> <span class="pre">Node</span> <span class="pre">As</span> <span class="pre">Clone</span></tt> command pastes the node from the clipboard, retaining the
identity of nodes.  Thus, if the pasted node already exists in the outline the newly
pasted node will become of a clone of the already-existing node.</li>
<li>The <tt class="docutils literal"><span class="pre">Paste</span> <span class="pre">Outline</span></tt> command creates nodes with new identities (new gnx's).</li>
</ul>
</div>
<div class="section" id="expanding-and-contracting-nodes">
<h3><a class="toc-backref" href="#id29" name="expanding-and-contracting-nodes">Expanding and contracting nodes</a></h3>
<ul class="simple">
<li>The <tt class="docutils literal"><span class="pre">Expand</span></tt> command expands the currently selected node so that all its children are visible.</li>
<li>The <tt class="docutils literal"><span class="pre">Expand</span> <span class="pre">All</span> <span class="pre">Subheads</span></tt> command expands the currently selected node so that all its offspring are visible.</li>
<li>The <tt class="docutils literal"><span class="pre">Expand</span> <span class="pre">All</span></tt> command expands all the nodes of the entire tree.</li>
<li>The <tt class="docutils literal"><span class="pre">Contract</span> <span class="pre">Parent</span></tt> contracts the selected node's parent and selects the parent node.</li>
</ul>
</div>
<div class="section" id="marking-nodes">
<h3><a class="toc-backref" href="#id30" name="marking-nodes">Marking nodes</a></h3>
<ul class="simple">
<li>The <tt class="docutils literal"><span class="pre">Mark</span> <span class="pre">Headline</span></tt> command marks a headline with a red marker  near the leader characters.</li>
<li>The <tt class="docutils literal"><span class="pre">Unmark</span> <span class="pre">Headline</span></tt> command removes such a mark.</li>
<li>The <tt class="docutils literal"><span class="pre">Mark</span> <span class="pre">Subheads</span></tt> command marks all offspring of the currently selected node.</li>
<li>The <tt class="docutils literal"><span class="pre">Unmark</span> <span class="pre">All</span></tt> command removes the marks from the entire tree.</li>
<li>The <tt class="docutils literal"><span class="pre">Mark</span> <span class="pre">Changed</span> <span class="pre">Items</span></tt> command marks all headlines whose headline or
body text has been changed since the file was last saved.</li>
<li>The <tt class="docutils literal"><span class="pre">Mark</span> <span class="pre">Changed</span> <span class="pre">Roots</span></tt> command marks all changed headlines whose body text contains the <tt class="docutils literal"><span class="pre">&#64;root</span></tt> directive.
This command is especially useful with the Tangle Marked command.</li>
</ul>
</div>
<div class="section" id="moving-sorting-and-reorganizing-nodes">
<h3><a class="toc-backref" href="#id31" name="moving-sorting-and-reorganizing-nodes">Moving, sorting and reorganizing nodes</a></h3>
<ul class="simple">
<li>The <tt class="docutils literal"><span class="pre">Move</span> <span class="pre">Up</span></tt>, <tt class="docutils literal"><span class="pre">Move</span> <span class="pre">Down</span></tt>, <tt class="docutils literal"><span class="pre">Move</span> <span class="pre">Left</span></tt> and <tt class="docutils literal"><span class="pre">Move</span> <span class="pre">Right</span></tt> commands move the currently selected node.</li>
<li>The <tt class="docutils literal"><span class="pre">Promote</span> <span class="pre">command</span></tt> makes all the children of a node siblings of the node.</li>
<li>The <tt class="docutils literal"><span class="pre">Demote</span></tt> command makes all the siblings that follow a node children of the node.</li>
<li>The <tt class="docutils literal"><span class="pre">Sort</span> <span class="pre">Children</span></tt> command sorts all children of the present node in alphabetical order of their headlines.</li>
<li>The <tt class="docutils literal"><span class="pre">Sort</span> <span class="pre">Siblings</span></tt> command sorts all siblings of the present node in alphabetical order.</li>
</ul>
</div>
<div class="section" id="hoisting-de-hoisting-nodes">
<h3><a class="toc-backref" href="#id32" name="hoisting-de-hoisting-nodes">Hoisting &amp; De-hoisting nodes</a></h3>
<ul class="simple">
<li>The <tt class="docutils literal"><span class="pre">Hoist</span></tt> command redraws the screen so presently selected tree becomes the only visible part of the outline.
Hoist commands may be nested.</li>
<li>The De-hoist command restores the outline.</li>
</ul>
</div>
</div>
<div class="section" id="the-window-menu">
<h2><a class="toc-backref" href="#id33" name="the-window-menu">The Window Menu</a></h2>
<ul class="simple">
<li>The <tt class="docutils literal"><span class="pre">Equal</span> <span class="pre">Sized</span> <span class="pre">Panes</span></tt> command adjusts the sizes of the outline and body
panes so that they are the same height.</li>
<li>The <tt class="docutils literal"><span class="pre">Cascade</span></tt> command cleans up the screen by cascading all Leo windows.</li>
<li>The <tt class="docutils literal"><span class="pre">Minimize</span> <span class="pre">All</span></tt> command minimizes all Leo windows.</li>
<li>The <tt class="docutils literal"><span class="pre">Toggle</span> <span class="pre">Active</span> <span class="pre">Pane</span></tt> command toggles keyboard focus between the outline and body panes.</li>
<li>The <tt class="docutils literal"><span class="pre">Toggle</span> <span class="pre">Split</span> <span class="pre">Direction</span></tt> command switches between vertical and horizontal
orientations of the Leo window. In the vertical orientation, the body pane
appears below the pane containing the outline and log panes. In the horizontal
orientation, the body pane appears to the left the pane containing the outline
and log panes. By default, the ratio of pane outline pane to the body pane is
0.5 in the vertical orientation and 0.3 in the horizontal orientation. These two
ratios may be changed using settings.</li>
<li>The <tt class="docutils literal"><span class="pre">Open</span> <span class="pre">Compare</span> <span class="pre">Window</span></tt> command opens a dialog that allows you to compare
two files, one containing sentinels and one not.</li>
</ul>
</div>
<div class="section" id="the-help-menu">
<h2><a class="toc-backref" href="#id34" name="the-help-menu">The Help Menu</a></h2>
<ul class="simple">
<li>The <tt class="docutils literal"><span class="pre">About</span> <span class="pre">Leo</span></tt> command puts up a dialog box showing the version of Leo.</li>
<li>The <tt class="docutils literal"><span class="pre">Online</span> <span class="pre">Home</span> <span class="pre">Page</span></tt> command opens Leo's home page at <a class="reference" href="http://webpages.charter.net/edreamleo/front.html">http://webpages.charter.net/edreamleo/front.html</a>.</li>
<li>The Open Online Tutorial command opens Joe Orr's excellent ScreenBook tutorial at
<a class="reference" href="http://www.evisa.com/e/sbooks/leo/sbframetoc_ie.htm">http://www.evisa.com/e/sbooks/leo/sbframetoc_ie.htm</a>.</li>
<li>The Open Offline Tutorial command opens the file sbooks.chm if it exists.
Otherwise, you will be asked whether you want to download it from Leo's SourceForge web site.
If you say yes, the page <a class="reference" href="http://sourceforge.net/project/showfiles.php?group_id=3458">http://sourceforge.net/project/showfiles.php?group_id=3458</a> will open.
You may then download sbooks.sbm to the folder containing leo.py.</li>
<li>The <tt class="docutils literal"><span class="pre">Open</span> <span class="pre">LeoDocs.leo</span></tt> command opens <tt class="docutils literal"><span class="pre">LeoDocs.leo</span></tt>.</li>
<li>The <tt class="docutils literal"><span class="pre">Open</span> <span class="pre">LeoPlugins.leo</span></tt> command opens <tt class="docutils literal"><span class="pre">LeoPlugins.leo</span></tt>.</li>
<li>The <tt class="docutils literal"><span class="pre">Open</span> <span class="pre">LeoSettings.leo</span></tt> command opens <tt class="docutils literal"><span class="pre">LeoSettings.leo</span></tt>.</li>
</ul>
<hr class="docutils" />
<p><a class="reference reference" href="directives.html"><img alt="back" src="arrow_lt.gif" /></a> <a class="reference reference" href="front.html"><img alt="leo" src="leo.gif" /></a> <a class="reference reference" href="design.html"><img alt="next" src="arrow_rt.gif" /></a></p>
</div>
</div>
</div>
</body>
</html>
